import{v as ve,r as Te,M as ge,B as ye,k as Ve,C as we,_ as Ie}from"./index.4ad22c22.js";/* empty css                *//* empty css                *//* empty css               *//* empty css              *//* empty css                *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as $e,j as T,r as ke,c as g,w as ze,b1 as Ce,ca as Se,C as i,D as h,aI as e,aH as a,aM as p,aN as r,G as u,aK as R,aJ as j,aE as y,E as De,u as xe,bE as Be,n as Ue,b7 as Ee,b8 as Ne,bT as Pe,bR as Fe,c7 as Le,bU as qe,bd as Ae,bV as Me,ac as Re,aY as je,bc as Oe,a6 as He,bS as Ye,bz as Ge,bA as Je,bB as Ke,ba as Xe,bD as Qe,bo as We,bX as Ze,bY as ea,be as aa,bf as ta}from"./arco.b6dedf2e.js";import{u as oa}from"./loading.f776d3e0.js";import{q as la}from"./list.3758a942.js";import{c as U}from"./cloneDeep.7f42bec5.js";import{S as na}from"./sortable.esm.9c6bb8d9.js";import"./chart.94e2d85e.js";import"./vue.02736e06.js";const E=V=>(aa("data-v-04aea224"),V=V(),ta(),V),sa={class:"container"},ca={class:"action-icon"},ra={class:"action-icon"},ia={id:"tableSetting"},ua={style:{"margin-right":"4px",cursor:"move"}},da={class:"title"},pa=E(()=>u("img",{alt:"avatar",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/581b17753093199839f2e327e726b157.svg~tplv-49unhts6dw-image.image"},null,-1)),ma=E(()=>u("img",{alt:"avatar",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/77721e365eb2ab786c889682cbc721c1.svg~tplv-49unhts6dw-image.image"},null,-1)),_a=E(()=>u("img",{alt:"avatar",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/ea8b09190046da0ea7e070d83c5d1731.svg~tplv-49unhts6dw-image.image"},null,-1)),fa={key:0,class:"circle"},ba={key:1,class:"circle pass"},ha={name:"SearchTable"},va=$e({...ha,setup(V){const N=()=>({number:"",name:"",contentType:"",filterType:"",createdTime:[],status:""}),{loading:O,setLoading:P}=oa(!0),{t:n}=ve.exports.useI18n(),F=T([]),s=T(N()),f=T([]),w=T([]),I=T("medium"),$={current:1,pageSize:20},v=ke({...$}),H=g(()=>[{name:n("searchTable.size.mini"),value:"mini"},{name:n("searchTable.size.small"),value:"small"},{name:n("searchTable.size.medium"),value:"medium"},{name:n("searchTable.size.large"),value:"large"}]),Y=g(()=>[{title:n("searchTable.columns.index"),dataIndex:"index",slotName:"index"},{title:n("searchTable.columns.number"),dataIndex:"number"},{title:n("searchTable.columns.name"),dataIndex:"name"},{title:n("searchTable.columns.contentType"),dataIndex:"contentType",slotName:"contentType"},{title:n("searchTable.columns.filterType"),dataIndex:"filterType"},{title:n("searchTable.columns.count"),dataIndex:"count"},{title:n("searchTable.columns.createdTime"),dataIndex:"createdTime"},{title:n("searchTable.columns.status"),dataIndex:"status",slotName:"status"},{title:n("searchTable.columns.operations"),dataIndex:"operations",slotName:"operations"}]),G=g(()=>[{label:n("searchTable.form.contentType.img"),value:"img"},{label:n("searchTable.form.contentType.horizontalVideo"),value:"horizontalVideo"},{label:n("searchTable.form.contentType.verticalVideo"),value:"verticalVideo"}]),J=g(()=>[{label:n("searchTable.form.filterType.artificial"),value:"artificial"},{label:n("searchTable.form.filterType.rules"),value:"rules"}]),K=g(()=>[{label:n("searchTable.form.status.online"),value:"online"},{label:n("searchTable.form.status.offline"),value:"offline"}]),k=async(t={current:1,pageSize:20})=>{P(!0);try{const{data:l}=await la(t);F.value=l.list,v.current=t.current,v.total=l.total}catch{}finally{P(!1)}},L=()=>{k({...$,...s.value})},X=t=>{k({...$,current:t})};k();const Q=()=>{s.value=N()},W=(t,l)=>{I.value=t},Z=(t,l,m)=>{t?f.value.splice(m,0,l):f.value=w.value.filter(_=>_.dataIndex!==l.dataIndex)},q=(t,l,m,_=!1)=>{const c=_?U(t):t;return l>-1&&m>-1&&c.splice(l,1,c.splice(m,1,c[l]).pop()),c},ee=t=>{t&&Ue(()=>{const l=document.getElementById("tableSetting");new na(l,{onEnd(m){const{oldIndex:_,newIndex:c}=m;q(f.value,_,c),q(w.value,_,c)}})})};return ze(()=>Y.value,t=>{f.value=U(t),f.value.forEach((l,m)=>{l.checked=!0}),w.value=U(f.value)},{deep:!0,immediate:!0}),(t,l)=>{const m=Ce("Breadcrumb"),_=Ee,c=Ne,d=Pe,z=Fe,ae=Le,C=qe,te=Ae,A=Me,oe=Re,b=je,M=Te,S=Oe,le=He,ne=Ye,se=ge,D=Ge,ce=ye,re=Je,ie=Ke,ue=Ve,de=we,pe=Xe,me=Qe,x=We,_e=Ze,fe=ea,be=Se("permission");return i(),h("div",sa,[e(m,{items:["menu.list","menu.list.searchTable"]}),e(fe,{class:"general-card",title:t.$t("menu.list.searchTable")},{default:a(()=>[e(C,null,{default:a(()=>[e(d,{flex:1},{default:a(()=>[e(te,{model:s.value,"label-col-props":{span:6},"wrapper-col-props":{span:18},"label-align":"left"},{default:a(()=>[e(C,{gutter:16},{default:a(()=>[e(d,{span:8},{default:a(()=>[e(c,{field:"number",label:t.$t("searchTable.form.number")},{default:a(()=>[e(_,{modelValue:s.value.number,"onUpdate:modelValue":l[0]||(l[0]=o=>s.value.number=o),placeholder:t.$t("searchTable.form.number.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(d,{span:8},{default:a(()=>[e(c,{field:"name",label:t.$t("searchTable.form.name")},{default:a(()=>[e(_,{modelValue:s.value.name,"onUpdate:modelValue":l[1]||(l[1]=o=>s.value.name=o),placeholder:t.$t("searchTable.form.name.placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(d,{span:8},{default:a(()=>[e(c,{field:"contentType",label:t.$t("searchTable.form.contentType")},{default:a(()=>[e(z,{modelValue:s.value.contentType,"onUpdate:modelValue":l[2]||(l[2]=o=>s.value.contentType=o),options:G.value,placeholder:t.$t("searchTable.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),e(d,{span:8},{default:a(()=>[e(c,{field:"filterType",label:t.$t("searchTable.form.filterType")},{default:a(()=>[e(z,{modelValue:s.value.filterType,"onUpdate:modelValue":l[3]||(l[3]=o=>s.value.filterType=o),options:J.value,placeholder:t.$t("searchTable.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1}),e(d,{span:8},{default:a(()=>[e(c,{field:"createdTime",label:t.$t("searchTable.form.createdTime")},{default:a(()=>[e(ae,{modelValue:s.value.createdTime,"onUpdate:modelValue":l[4]||(l[4]=o=>s.value.createdTime=o),style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(d,{span:8},{default:a(()=>[e(c,{field:"status",label:t.$t("searchTable.form.status")},{default:a(()=>[e(z,{modelValue:s.value.status,"onUpdate:modelValue":l[5]||(l[5]=o=>s.value.status=o),options:K.value,placeholder:t.$t("searchTable.form.selectDefault")},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(A,{style:{height:"84px"},direction:"vertical"}),e(d,{flex:"86px",style:{"text-align":"right"}},{default:a(()=>[e(S,{direction:"vertical",size:18},{default:a(()=>[e(b,{type:"primary",onClick:L},{icon:a(()=>[e(oe)]),default:a(()=>[p(" "+r(t.$t("searchTable.form.search")),1)]),_:1}),e(b,{onClick:Q},{icon:a(()=>[e(M)]),default:a(()=>[p(" "+r(t.$t("searchTable.form.reset")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(A,{style:{"margin-top":"0"}}),e(C,{style:{"margin-bottom":"16px"}},{default:a(()=>[e(d,{span:12},{default:a(()=>[e(S,null,{default:a(()=>[e(b,{type:"primary"},{icon:a(()=>[e(le)]),default:a(()=>[p(" "+r(t.$t("searchTable.operation.create")),1)]),_:1}),e(ne,{action:"/"},{"upload-button":a(()=>[e(b,null,{default:a(()=>[p(r(t.$t("searchTable.operation.import")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{span:12,style:{display:"flex","align-items":"center","justify-content":"end"}},{default:a(()=>[e(b,null,{icon:a(()=>[e(se)]),default:a(()=>[p(" "+r(t.$t("searchTable.operation.download")),1)]),_:1}),e(D,{content:t.$t("searchTable.actions.refresh")},{default:a(()=>[u("div",{class:"action-icon",onClick:L},[e(M,{size:"18"})])]),_:1},8,["content"]),e(ie,{onSelect:W},{content:a(()=>[(i(!0),h(R,null,j(H.value,o=>(i(),y(re,{key:o.value,value:o.value,class:De({active:o.value===I.value})},{default:a(()=>[u("span",null,r(o.name),1)]),_:2},1032,["value","class"]))),128))]),default:a(()=>[e(D,{content:t.$t("searchTable.actions.density")},{default:a(()=>[u("div",ca,[e(ce,{size:"18"})])]),_:1},8,["content"])]),_:1}),e(D,{content:t.$t("searchTable.actions.columnSetting")},{default:a(()=>[e(me,{trigger:"click",position:"bl",onPopupVisibleChange:ee},{content:a(()=>[u("div",ia,[(i(!0),h(R,null,j(w.value,(o,he)=>(i(),h("div",{key:o.dataIndex,class:"setting"},[u("div",ua,[e(de)]),u("div",null,[e(pe,{modelValue:o.checked,"onUpdate:modelValue":B=>o.checked=B,onChange:B=>Z(B,o,he)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("div",da,r(o.title==="#"?"\u5E8F\u5217\u53F7":o.title),1)]))),128))])]),default:a(()=>[u("div",ra,[e(ue,{size:"18"})])]),_:1})]),_:1},8,["content"])]),_:1})]),_:1}),e(_e,{"row-key":"id",loading:xe(O),pagination:v,columns:f.value,data:F.value,bordered:!1,size:I.value,onPageChange:X},{index:a(({rowIndex:o})=>[p(r(o+1+(v.current-1)*v.pageSize),1)]),contentType:a(({record:o})=>[e(S,null,{default:a(()=>[o.contentType==="img"?(i(),y(x,{key:0,size:16,shape:"square"},{default:a(()=>[pa]),_:1})):o.contentType==="horizontalVideo"?(i(),y(x,{key:1,size:16,shape:"square"},{default:a(()=>[ma]),_:1})):(i(),y(x,{key:2,size:16,shape:"square"},{default:a(()=>[_a]),_:1})),p(" "+r(t.$t(`searchTable.form.contentType.${o.contentType}`)),1)]),_:2},1024)]),filterType:a(({record:o})=>[p(r(t.$t(`searchTable.form.filterType.${o.filterType}`)),1)]),status:a(({record:o})=>[o.status==="offline"?(i(),h("span",fa)):(i(),h("span",ba)),p(" "+r(t.$t(`searchTable.form.status.${o.status}`)),1)]),operations:a(()=>[Be((i(),y(b,{type:"text",size:"small"},{default:a(()=>[p(r(t.$t("searchTable.columns.operations.view")),1)]),_:1})),[[be,["admin"]]])]),_:1},8,["loading","pagination","columns","data","size"])]),_:1},8,["title"])])}}});const Ya=Ie(va,[["__scopeId","data-v-04aea224"]]);export{Ya as default};
